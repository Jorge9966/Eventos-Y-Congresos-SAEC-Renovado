<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Avisos - Participante</title>
  {% load static extra_filters %}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    :root{--primary:#2563eb;--primary-dark:#1e40af;--bg:#f8fafc;--text:#0b1730;--muted:#64748b;--card-border:#dbe6f3;}
    body{margin:0;font-family:'Inter',Arial,Helvetica,sans-serif;background:var(--bg);} 
    .page-wrap{max-width:1000px;margin:40px auto 80px;padding:0 40px;}
    h1.page-title{font-size:2.2rem;font-weight:800;margin:0 0 10px;color:var(--primary);letter-spacing:.7px;text-align:center;}
    .divider{width:120px;height:4px;background:var(--primary);border-radius:6px;margin:18px auto 30px;}
    .warning-box{background:#eef2ff;border:1px solid #e0e7ff;color:#3730a3;padding:16px 20px;border-radius:10px;font-size:.95rem;font-weight:600;}
    .aviso{background:#ffffff;border:1px solid var(--card-border);border-radius:16px;padding:22px 24px;margin-bottom:18px;position:relative;overflow:hidden;box-shadow:0 10px 20px rgba(2,25,63,.06);transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;}
    .aviso::before{content:"";position:absolute;left:0;top:0;bottom:0;width:6px;background:linear-gradient(180deg,var(--primary),var(--primary-dark));}
    .aviso:hover{transform:translateY(-2px);box-shadow:0 16px 28px rgba(2,25,63,.10);border-color:#c8d7ea;}
    .aviso .head{display:flex;align-items:center;gap:10px;margin-bottom:12px;color:var(--primary-dark);}
    .aviso .badge{background:rgba(37,99,235,.12);color:var(--primary-dark);padding:6px 12px;border-radius:999px;display:flex;align-items:center;gap:8px;font-size:.85rem;font-weight:600;}
    .aviso .badge i{color:var(--primary);}    
    .aviso .contenido{font-size:1.05rem;color:var(--text);line-height:1.55;}
    .empty{background:#f8fafc;border:1px dashed #cbd5e1;border-radius:12px;padding:16px 20px;color:var(--muted);text-align:center;font-weight:500;}
  </style>
</head>
<body>
  {% include 'partials/participante_topbar.html' %}
  <div class="page-wrap">
    <h1 class="page-title">Avisos</h1>
    <div class="divider" aria-hidden="true"></div>
    {% if avisos_new_count and avisos_new_count > 0 %}
      <div class="alert alert-info mb-3" role="status">
        Tienes {{ avisos_new_count }} aviso{% if avisos_new_count != 1 %}s{% endif %} nuevo{% if avisos_new_count != 1 %}s{% endif %} desde tu último inicio de sesión.
      </div>
    {% endif %}
    {% if not approved %}
      <div class="warning-box">Tu membresía aún no está aprobada o fue rechazada. Acceso limitado a funciones, pero puedes revisar los avisos del congreso.</div>
    {% endif %}
    {% if avisos %}
      {% for a in avisos %}
        <div class="aviso">
          <div class="head">
            <span class="badge"><i class="bi bi-calendar3"></i> {{ a.created_at|date:"F d, Y" }}</span>
          </div>
          <div class="contenido">{{ a.content }}</div>
        </div>
      {% endfor %}
    {% else %}
      <div class="empty">No hay avisos publicados para "{{ congreso.name }}".</div>
    {% endif %}
  </div>
  {% include 'partials/footer_participante.html' %}
</body>
</html>
